<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Conway's Game of Life on CodeSkulptor</title>
  <meta name="description" content="wait.
">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://ironhead.bitbucket.com/2014/12/29/conways-game-of-life.html">

  <script type="text/javascript"
           src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">iRonhead</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
            
              <a class="page-link" href="/about/">About</a>
            
          
        
          
            
              <a class="page-link" href="/cv/">CV</a>
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
              <a class="page-link" href="/projects/">Projects</a>
            
          
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Conway's Game of Life on CodeSkulptor</h1>
    <p class="post-meta">Dec 29, 2014</p>
  </header>

  <article class="post-content">
    <p><a href="http://www.codeskulptor.org/#user38_iF5tSbexuT1XG1M_5.py">CodeSkulptor</a></p>

<pre><code class="language-python">import simplegui


class GameOfLife :
  def __init__(self, col_num, row_num, cell_size, line_size = 1) :
    self._col_num = col_num
    self._row_num = row_num
    self._cell_size = cell_size
    self._line_size = line_size

    self._cells = [[0] * col_num for _ in range(row_num)]

  def get_width(self) :
    return self._col_num * (self._cell_size + self._line_size) + self._line_size

  def get_height(self) :
    return self._row_num * (self._cell_size + self._line_size) + self._line_size

  def get_color_of_cell(self, x, y) :
    return "Black" if self._cells[y][x] == 0 else "Lime"

  def get_position_of_cell(self, x, y) :
    px = x * (self._line_size + self._cell_size) + self._line_size + 1
    py = y * (self._line_size + self._cell_size) + self._line_size + 1
    ww = self._cell_size - 2

    return [(px, py),  (px + ww, py), (px + ww, py + ww), (px, py + ww)]

  def reset(self) :
    for y in range(self._row_num) :
      for x in range(self._col_num) :
        self._cells[y][x] = 0

  def toggle_cell(self, x, y) :
    self._cells[y][x] = (1 + self._cells[y][x]) % 2

  def toggle_position(self, position) :
    s = self._line_size + self._cell_size
    x = position[0] / s
    y = position[1] / s

    if x &lt; self._col_num and y &lt; self._row_num and x &gt;= 0 and y &gt;= 0 :
      self.toggle_cell(x, y)

  def update(self) :
    temp = [[0] * self._col_num for _ in range(self._row_num)]

    for y in range(self._row_num) :
      for x in range(self._col_num) :
        z  = self._cells[y - 1][x - 1]
        z += self._cells[y - 1][x]
        z += self._cells[y][x - 1]
        z += self._cells[y][x]

        xx = 0 if x + 1 == self._col_num else x + 1
        yy = 0 if y + 1 == self._row_num else y + 1

        z += self._cells[y - 1][xx]
        z += self._cells[y][xx]
        z += self._cells[yy][x - 1]
        z += self._cells[yy][x]
        z += self._cells[yy][xx]

        temp[y][x] = z

    for y in range(self._row_num) :
      for x in range(self._col_num) :
        z = temp[y][x]

        if self._cells[y][x] == 1 :
          z -= 1

        if z &lt; 2 :
          self._cells[y][x] = 0
        elif z &lt; 4 :
          pass
        else :
          self._cells[y][x] = 0
        elif z == 3 :
          self._cells[y][x] = 1

  def draw(self, canvas) :
    width = self.get_width()

    y = self._line_size / 2

    for _ in range(1 + self._row_num) :
      canvas.draw_line((0, y), (width, y), self._line_size, "Teal")

      y += self._cell_size + self._line_size

    height = self.get_height()

    x = self._line_size / 2

    for _ in range(1 + self._col_num) :
      canvas.draw_line((x, 0), (x, height), self._line_size, "Teal")

      x += self._cell_size + self._line_size

    for y in range(self._row_num) :
      for x in range(self._col_num) :
        color = self.get_color_of_cell(x, y)

        canvas.draw_polygon(self.get_position_of_cell(x, y), 2, color, color)

button_start = None
button_clear = None
running = False

gol = GameOfLife(20, 20, 38, 2)

def demo(name) :
  global running

  running = True

  gol.reset()

  button_start.set_text("Pause")

  patterns = {
    "toad" : [(3, 2), (4, 2), (5, 2), (2, 3), (3, 3), (4, 3)],
    "blinker" : [(4, 3), (4, 4), (4, 5)],
    "beacon" : [(1, 1), (2, 1), (1, 2), (4, 4), (4, 3), (3, 4)],
    "pulsar" : [(4, 2), (5, 2), (6, 2), (10, 2), (11, 2), (12, 2), \
    (2, 4), (2, 5), (2, 6), (7, 4), (7, 5), (7, 6), \
    (9, 4), (9, 5), (9, 6), (14, 4), (14, 5), (14, 6), \
    (4, 7), (5, 7), (6, 7), (10, 7), (11, 7), (12, 7), \
    (4, 9), (5, 9), (6, 9), (10, 9), (11, 9), (12, 9), \
    (2, 10), (2, 11), (2, 12), (7, 10), (7, 11), (7, 12), \
    (9, 10), (9, 11), (9, 12), (14, 10), (14, 11), (14, 12), \
    (4, 14), (5, 14), (6, 14), (10, 14), (11, 14), (12, 14)],
    "glider" : [(5, 5), (6, 6), (6, 7), (5, 7), (4, 7)],
    "lwss" : [(2, 2), (2, 4), (5, 2), (6, 3), (6, 4), (6, 5), (3, 5), (4, 5), (5, 5)]
  }

  map(lambda x : gol.toggle_cell(x[0], x[1]), patterns[name])

def on_mouse_clicked(position) :
  if not running :
    gol.toggle_position(position)

def on_demo_toad() :
  demo("toad")

def on_demo_blinker() :
  demo("blinker")

def on_demo_beacon() :
  demo("beacon")

def on_demo_pulsar() :
  demo("pulsar")

def on_demo_glider() :
  demo("glider")

def on_demo_lwss() :
  demo("lwss")

def on_start() :
  global running

  running = not running

  if running :
    button_start.set_text("Pause")
  else :
    button_start.set_text("Start")

def on_clear() :
  global running

  running = False

  button_start.set_text("Start")

  gol.reset()

def update_game_of_life() :
  if running :
    gol.update()

def on_draw(canvas) :
  gol.draw(canvas)

# Create a frame and assign callbacks to event handlers
frame = simplegui.create_frame("Game of Life", gol.get_width(), gol.get_height())

frame.add_button('Demo Toad', on_demo_toad)
frame.add_button('Demo Blinker', on_demo_blinker)
frame.add_button('Demo Beacon', on_demo_beacon)
frame.add_button('Demo Pulsar', on_demo_pulsar)
frame.add_button('Demo Glider', on_demo_glider)
frame.add_button('Demo LWSS', on_demo_lwss)

button_start = frame.add_button('Start', on_start)
button_clear = frame.add_button('Clear', on_clear)

frame.set_mouseclick_handler(on_mouse_clicked)
frame.set_draw_handler(on_draw)
frame.start()

# timer to update
timer = simplegui.create_timer(500, update_game_of_life)
timer.start()

on_demo_toad()
</code></pre>

  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">iRonhead</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>iRonhead</li>
          <li><a href="mailto:ironhead.chuang@gmail.com">ironhead.chuang@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          

          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">wait.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
